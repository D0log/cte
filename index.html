<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Formulário para Armazenar Informações em JSON</title>
    <link rel="stylesheet" style="text/css" href="deps/opt/bootstrap.css">
</head>
<body>
    <h1>Formulário para Armazenar Informações em JSON</h1>
    <form></form>
    <div id="res" class="alert"></div>
    <script type="text/javascript" src="deps/jquery.min.js"></script>
    <script type="text/javascript" src="deps/underscore.js"></script>
    <script type="text/javascript" src="deps/opt/jsv.js"></script>
    <script type="text/javascript" src="lib/jsonform.js"></script>
    <script type="text/javascript">
        $('form').jsonForm({
            schema: {
                nome: {
                    type: 'string',
                    title: 'Nome',
                    required: true
                },
                idade: {
                    type: 'number',
                    title: 'Idade'
                },
                email: {
                    type: 'string',
                    title: 'E-mail'
                }
            },
            onSubmit: function (errors, values) {
                if (errors) {
                    $('#res').html('<p>Desculpe, ocorreu um erro.</p>');
                } else {
                    // Criação do objeto JSON com as informações
                    var infoJSON = {
                        nome: values.nome,
                        idade: values.idade,
                        email: values.email
                    };

                    // Exibe o JSON no console (para fins de demonstração)
                    console.log(infoJSON);

                    $('#res').html('<p>Informações armazenadas com sucesso!</p>');
                }
            }
        });
    </script>
</body>
</html>
